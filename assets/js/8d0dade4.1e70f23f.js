"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[371],{413:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"capabilities/async/steps","title":"Async steps","description":"async stepover and stepout commands overview","source":"@site/docs/capabilities/async/steps.mdx","sourceDirName":"capabilities/async","slug":"/capabilities/async/steps","permalink":"/BugStalker/docs/capabilities/async/steps","draft":false,"unlisted":false,"editUrl":"https://github.com/godzie44/BugStalker/tree/master/website/docs/capabilities/async/steps.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"description":"async stepover and stepout commands overview"},"sidebar":"tutorialSidebar","previous":{"title":"Async backtrace","permalink":"/BugStalker/docs/capabilities/async/backtrace"},"next":{"title":"Supported tokio versions","permalink":"/BugStalker/docs/capabilities/async/support-tokio"}}');var i=t(4848),r=t(8453),a=t(5363),c=t(3752);const o={sidebar_position:2,description:"async stepover and stepout commands overview"},l="Async steps",d={},p=[{value:"Usage example",id:"usage-example",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"async-steps",children:"Async steps"})}),"\n",(0,i.jsx)(n.p,{children:"Asynchronous step commands function similarly to regular debugging steps (stepover, stepout), but operate within the context\nof the current task. These commands ensure your program execution stops either:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"at the next step within the current task, or"}),"\n",(0,i.jsx)(n.li,{children:"when the current task transitions to a completed state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Available commands:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"async stepover"})," (alias: ",(0,i.jsx)(n.code,{children:"async next"}),") - Steps through the program while:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"stepping over function/subroutine calls"}),"\n",(0,i.jsx)(n.li,{children:"stopping if the task completes"}),"\n",(0,i.jsx)(n.li,{children:"remaining within the current task's context"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"async stepout"})," (alias: ",(0,i.jsx)(n.code,{children:"async finish"}),") - continues execution until:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"the current task completes"}),"\n",(0,i.jsx)(n.li,{children:"control returns from the current async function"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"usage-example",children:"Usage example"}),"\n",(0,i.jsx)(n.p,{children:"Consider this async Rust program:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"#[tokio::main(worker_threads = 3)]\nasync fn main() -> Result<(), Box<dyn Error>> {\n    let t2 = tokio::task::spawn(f2());\n    t2.await.unwrap();\n\n    Ok(())\n}\n\nasync fn f2() {\n    let mut vector: Vec<i32> = vec![1, 2, 3, 4, 5, 6, 7];\n    let _a = 123;\n    tokio::time::sleep(Duration::from_millis(200)).await;\n    let _b = inner_1(&mut vector, 2).await;\n\n    tokio::time::sleep(Duration::from_millis(200)).await;\n    let _c = inner_1(&mut vector, 2).await;\n}\n\nasync fn inner_1(v: &mut Vec<i32>, val: i32) -> i32 {\n    v.push(val);\n    let b = val;\n    return b;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"To demonstrate these commands:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["set a breakpoint at ",(0,i.jsx)(n.code,{children:"f2()"})," function line: ",(0,i.jsx)(n.code,{children:"let _a = 123"}),";"]}),"\n",(0,i.jsx)(n.li,{children:"use async stepout to execute until the task completes"}),"\n",(0,i.jsx)(n.li,{children:"restart the program"}),"\n",(0,i.jsx)(n.li,{children:"use async stepover to step through the task while remaining in its context"}),"\n"]}),"\n","\n",(0,i.jsx)(a.A,{children:()=>(0,i.jsx)(c.A,{src:"/BugStalker/casts/async_bt.cast"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},3752:(e,n,t)=>{t.d(n,{A:()=>r});var s=t(6540),i=t(4848);function r(e){let{src:n,options:t={}}=e;const r=(0,s.useRef)(null),[a,c]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{if("undefined"==typeof window)return;const e="asciinema-player-css";if(!document.getElementById(e)){const n=document.createElement("link");n.id=e,n.rel="stylesheet",n.href="https://cdn.jsdelivr.net/npm/@asciinema/player@3.0.0/dist/themes/asciinema-player.css",document.head.appendChild(n)}const s="asciinema-player-script";let i=document.getElementById(s);i||(i=document.createElement("script"),i.id=s,i.src="https://cdn.jsdelivr.net/npm/@asciinema/player@3.0.0/dist/asciinema-player.min.js",i.async=!0,document.body.appendChild(i));const a=()=>{if(!window.AsciinemaPlayer)return void console.error("AsciinemaPlayer not available");const e=n.startsWith("http")?n:`${window.location.origin}${n}`;try{window.AsciinemaPlayer.create(e,r.current,{cols:120,rows:24,autoPlay:!0,fit:"width",...t}),c(!0)}catch(s){console.error("Player initialization failed:",s)}};return window.AsciinemaPlayer?a():i.onload=a,()=>{r.current&&(r.current.innerHTML="")}}),[n,t]),(0,i.jsx)("div",{ref:r,style:{minHeight:"300px",backgroundColor:a?"transparent":"#f5f5f5",borderRadius:"4px",margin:"20px 0",position:"relative"},children:!a&&(0,i.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#666"},children:"Loading player..."})})}},5363:(e,n,t)=>{t.d(n,{A:()=>r});t(6540);var s=t(9136),i=t(4848);function r(e){let{children:n,fallback:t}=e;return(0,s.A)()?(0,i.jsx)(i.Fragment,{children:n?.()}):t??null}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var s=t(6540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);